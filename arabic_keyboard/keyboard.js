function updateSuggestionPosition(){const t=300;document.getElementById("local-suggestions").style.bottom=`${t}px`}document.addEventListener("DOMContentLoaded",function(){function t(t){if(i(),!t.trim())return;fetch("https://raw.githubusercontent.com/adam-abed-abud/arabic-words-list/main/arabic-words.txt").then(t=>t.text()).then(e=>{const n=e.split("\n"),s=new RegExp(`^${t}`,"i"),c=n.filter(t=>s.test(t));if(r.style.display="block",0===c.length){const t=document.createElement("div");return t.textContent="No local suggestions",void r.appendChild(t)}c.slice(0,10).forEach(function(e){const n=document.createElement("div");n.innerHTML=`<strong>${e.substr(0,t.length)}</strong>${e.substr(t.length)}`,n.addEventListener("click",function(){o.value=e,i()}),r.appendChild(n)})})["catch"](t=>console.error("Error:",t))}function e(t){if(!t.trim())return void i();const e=`https://ar.wikipedia.org/w/api.php?origin=*&action=opensearch&search=${encodeURIComponent(t)}&limit=10&namespace=0&format=json`;fetch(e).then(t=>t.json()).then(e=>{const n=e[1],s=e[3];u.style.display="block";const c=document.createElement("h2");if(c.textContent="Wikipedia",u.appendChild(c),0===n.length){const t=document.createElement("div");return t.textContent="No Wikipedia suggestions",void u.appendChild(t)}n.forEach(function(e,n){const c=document.createElement("div");c.innerHTML=`<strong>${e.substr(0,t.length)}</strong>${e.substr(t.length)}`;const a=document.createElement("a");a.href=s[n],a.textContent=" [wiki]",a.target="_blank",c.appendChild(a),c.addEventListener("click",function(t){t.target!==a&&(o.value=e,i())}),u.appendChild(c)})})["catch"](t=>{console.error("Error fetching suggestions:",t),i()})}function n(n){t(n),e(n)}function i(){for(;r.firstChild;)r.removeChild(r.firstChild);for(r.style.display="none";u.firstChild;)u.removeChild(u.firstChild);u.style.display="none"}updateSuggestionPosition(),window.addEventListener("resize",updateSuggestionPosition);const o=document.getElementById("textOutput"),s=document.getElementById("copyButton"),c=document.getElementById("notification"),a=document.getElementById("emojiButton"),d=document.getElementById("emojiDropdown"),l=document.getElementById("keyboard"),r=document.getElementById("local-suggestions"),u=document.getElementById("wikipedia-suggestions"),g=document.getElementById("clearButton");let m,h=-1,p=null;r.style.display="block",g.addEventListener("click",function(){o.value=""}),o.addEventListener("blur",function(){m=[o.selectionStart,o.selectionEnd]}),o.addEventListener("input",function(){const t=this.value;if(i(),!t)return!1;h=-1,clearTimeout(p),p=setTimeout(()=>{const e=t.split(" "),i=e[e.length-1];i.length>=3&&n(i)},300)}),l.addEventListener("click",function(t){t.target.classList.contains("key")&&(t.target.classList.contains("space-key")?o.value+=" ":t.target.classList.contains("delete-key")?o.value=o.value.slice(0,-1):o.value+=t.target.textContent,t.target.classList.add("clicked"),setTimeout(()=>{t.target.classList.remove("clicked")},500),o.focus(),o.dispatchEvent(new Event("input")))}),a.addEventListener("click",function(t){a.contains(t.target)||d.contains(t.target)||!d.classList.contains("show")||d.classList.remove("show")}),s.addEventListener("click",function(){o.select(),document.execCommand("copy"),c.classList.add("show"),setTimeout(()=>{c.classList.remove("show")},2e3)}),a.addEventListener("click",function(){d.classList.toggle("show")}),d.addEventListener("click",function(t){t.target.classList.contains("emoji")&&(o.focus(),o.selectionStart=m[0],o.selectionEnd=m[1],o.setRangeText(t.target.textContent,o.selectionStart,o.selectionEnd,"end"))}),document.addEventListener("click",function(t){r.contains(t.target)||i()})});